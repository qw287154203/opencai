function echo(t,s){alert("hello world")}!function(t){t.fn.touchSlider=function(i){i.supportsCssTransitions=function(t){for(var s=["Webkit","Moz","Ms"],i=0,e=s.length;i<e;i++)if(void 0!==t[s[i]+"Transition"])return!0;return!1}(document.createElement("div").style),i=jQuery.extend({roll:!0,flexible:!1,btn_prev:null,btn_next:null,paging:null,speed:75,view:1,range:.15,page:1,transition:!1,initComplete:null,counter:null,multi:!1},i);var e=[];return e=t.extend({},t.fn.touchSlider.defaults,i),this.each(function(){t.fn.extend(this,s);var i=this;this.opts=e,this._view=this.opts.view,this._speed=this.opts.speed,this._tg=t(this),this._list=this._tg.children().children(),this._width=parseInt(this._tg.css("width")),this._item_w=parseInt(this._list.css("width")),this._len=this._list.length,this._range=this.opts.range*this._width,this._pos=[],this._start=[],this._startX=0,this._startY=0,this._left=0,this._top=0,this._drag=!1,this._scroll=!1,this._btn_prev,this._btn_next,this.init(),t(this).bind("touchstart",this.touchstart).bind("touchmove",this.touchmove).bind("touchend",this.touchend).bind("dragstart",this.touchstart).bind("drag",this.touchmove).bind("dragend",this.touchend),t(window).bind("orientationchange resize",function(){i.resize(i)})})};var s={init:function(){var s=this;t(this).children().css({width:this._width+"px",overflow:"visible"}),this.opts.flexible&&(this._item_w=this._width/this._view),this.opts.roll&&(this._len=Math.ceil(this._len/this._view)*this._view);for(var i=this.opts.page>1&&this.opts.page<=this._len?(this.opts.page-1)*this._item_w:0,e=0;e<this._len;++e)this._pos[e]=this._item_w*e-i,this._start[e]=this._pos[e],this._list.eq(e).css({float:"none",display:"block",position:"absolute",top:"0",left:this._pos[e]+"px",width:this._item_w+"px"}),this.opts.supportsCssTransitions&&this.opts.transition&&this._list.eq(e).css({"-moz-transition":"0ms","-moz-transform":"","-ms-transition":"0ms","-ms-transform":"","-webkit-transition":"0ms","-webkit-transform":"",transition:"0ms",transform:""});this.opts.btn_prev&&this.opts.btn_next&&(this.opts.btn_prev.bind("click",function(){return s.animate(1,!0),!1}),this.opts.btn_next.bind("click",function(){return s.animate(-1,!0),!1})),this.opts.paging&&t(this._list).each(function(t,i){s.opts.paging.eq(t).bind("click",function(i){return s.go_page(t,i),!1})}),this.counter(),this.initComplete()},initComplete:function(){"function"==typeof this.opts.initComplete&&this.opts.initComplete(this)},resize:function(t){if(t.opts.flexible){var s=t._item_w;t._width=parseInt(t._tg.css("width")),t._item_w=t._width/t._view,t._range=t.opts.range*t._width;for(var i=0;i<t._len;++i)t._pos[i]=t._pos[i]/s*t._item_w,t._start[i]=t._start[i]/s*t._item_w,t._list.eq(i).css({left:t._pos[i]+"px",width:t._item_w+"px"}),this.opts.supportsCssTransitions&&this.opts.transition&&t._list.eq(i).css({"-moz-transition":"0ms","-moz-transform":"","-ms-transition":"0ms","-ms-transform":"","-webkit-transition":"0ms","-webkit-transform":"",transition:"0ms",transform:""})}this.counter()},touchstart:function(t){if("touchstart"==t.type&&t.originalEvent.touches.length<=1||"dragstart"==t.type){this._startX=t.pageX||t.originalEvent.touches[0].pageX,this._startY=t.pageY||t.originalEvent.touches[0].pageY,this._scroll=!1,this._start=[];for(var s=0;s<this._len;++s)this._start[s]=this._pos[s]}},touchmove:function(t){if("touchmove"==t.type&&t.originalEvent.touches.length<=1||"drag"==t.type){this._left=(t.pageX||t.originalEvent.touches[0].pageX)-this._startX,this._top=(t.pageY||t.originalEvent.touches[0].pageY)-this._startY,(this._left<0?-1*this._left:this._left)<(this._top<0?-1*this._top:this._top)||this._scroll?(this._left=0,this._drag=!1,this._scroll=!0):(t.preventDefault(),this._drag=!0,this._scroll=!1,this.position(t));for(var s=0;s<this._len;++s){var i=this._start[s]+this._left;if(this.opts.supportsCssTransitions&&this.opts.transition){var e="translate3d("+i+"px,0,0)";this._list.eq(s).css({left:"","-moz-transition":"0ms","-moz-transform":e,"-ms-transition":"0ms","-ms-transform":e,"-webkit-transition":"0ms","-webkit-transform":e,transition:"0ms",transform:e})}else this._list.eq(s).css("left",i+"px");this._pos[s]=i}}},touchend:function(t){if("touchend"==t.type&&t.originalEvent.touches.length<=1||"dragend"==t.type){if(this._scroll)return this._drag=!1,this._scroll=!1,!1;this.animate(this.direction()),this._drag=!1,this._scroll=!1}},position:function(s){var i=this._view*this._item_w;if(-1==s||1==s){this._startX=0,this._start=[];for(n=0;n<this._len;++n)this._start[n]=this._pos[n];this._left=s*i}else this._left>i&&(this._left=i),this._left<-i&&(this._left=-i);if(this.opts.roll){for(var e=[],n=0;n<this._len;++n)e[n]=this._pos[n];e.sort(function(t,s){return t-s});var h=e[this._len-this._view],r=t.inArray(e[0],this._pos),o=t.inArray(h,this._pos);if(this._view<=1&&(h=this._len-1),this.opts.multi){if(1==s&&e[0]>=0||this._drag&&e[0]>=100)for(n=0;n<this._view;++n,++r,++o)this._start[o]=this._start[r]-i,this._list.eq(o).css("left",this._start[o]+"px");else if(-1==s&&e[0]<=0||this._drag&&e[0]<=-100)for(n=0;n<this._view;++n,++r,++o)this._start[r]=this._start[o]+i,this._list.eq(r).css("left",this._start[r]+"px")}else if(1==s&&e[0]>=0||this._drag&&e[0]>0)for(n=0;n<this._view;++n,++r,++o)this._start[o]=this._start[r]-i,this._list.eq(o).css("left",this._start[o]+"px");else if(-1==s&&e[h]<=0||this._drag&&e[h]<=0)for(n=0;n<this._view;++n,++r,++o)this._start[r]=this._start[o]+i,this._list.eq(r).css("left",this._start[r]+"px")}else this.limit_chk()&&(this._left=this._left/2)},animate:function(s,i){if(this._drag||!this._scroll||i){var e=this,n=this._speed;i&&this.position(s);var h=s*(this._item_w*this._view);(0==this._left||!this.opts.roll&&this.limit_chk())&&(h=0),this._list.each(function(s,r){if(e._pos[s]=e._start[s]+h,e.opts.supportsCssTransitions&&e.opts.transition){var o=n+"ms",_="translate3d("+e._pos[s]+"px,0,0)";i&&(o="0ms"),t(this).css({left:"","-moz-transition":o,"-moz-transform":_,"-ms-transition":o,"-ms-transform":_,"-webkit-transition":o,"-webkit-transform":_,transition:o,transform:_})}else t(this).stop(),t(this).animate({left:e._pos[s]+"px"},n)}),this.counter()}},direction:function(){var t=0;return this._left<-this._range?t=-1:this._left>this._range&&(t=1),this._drag&&!this._scroll||(t=0),t},limit_chk:function(){var t=parseInt((this._len-1)/this._view)*this._view;return 0==this._start[0]&&this._left>0||0==this._start[t]&&this._left<0},go_page:function(s,i){for(var e=t.inArray(0,this._pos)/this._view+1-(s+1);0!=e;)e<0?(this.animate(-1,!0),e++):e>0&&(this.animate(1,!0),e--)},counter:function(){if("function"==typeof this.opts.counter){var s={total:Math.ceil(this._len/this._view),current:t.inArray(0,this._pos)/this._view+1};this.opts.counter(s)}}}}(jQuery);